/*! @source http://purl.eligrey.com/github/l10n.js/blob/master/l10n.js*/
(function(){"use strict";var q="undefined",a="string",m=self.navigator,o=String,l=Object.prototype.hasOwnProperty,z={},B={},t=!1,k=!0,s=/^\s*application\/(?:vnd\.oftn\.|x-)?l10n\+json\s*(?:$|;)/i,p,A="locale",j="defaultLocale",r="toLocaleString",e="toLowerCase",x=Array.prototype.indexOf||function(E){var C=this.length,D=0;for(;D<C;D++){if(D in this&&this[D]===E){return D}}return -1},b=function(C){var i=new p();i.open("GET",C,t);i.send(null);if(i.status!==200){setTimeout(function(){var D=new Error("Unable to load localization data: "+C);D.name="Localization Error";throw D},0);return{}}else{return JSON.parse(i.responseText)}},n=o[r]=function(D){if(arguments.length>0&&typeof D!=="number"){if(typeof D===a){n(b(D))}else{if(D===t){B={}}else{var i,E,C;for(i in D){if(l.call(D,i)){E=D[i];i=i[e]();if(!(i in B)||E===t){B[i]={}}if(E===t){continue}if(typeof E===a){if(o[A][e]().indexOf(i)===0){E=b(E)}else{if(!(i in z)){z[i]=[]}z[i].push(E);continue}}for(C in E){if(l.call(E,C)){B[i][C]=E[C]}}}}}}}return Function.prototype[r].apply(o,arguments)},h=function(E){var D=z[E],F=0,C=D.length,G;for(;F<C;F++){G={};G[E]=b(D[F]);n(G)}delete z[E]},u,w=o.prototype[r]=function(){var E=u,G=o[E?j:A],H=G[e]().split("-"),F=H.length,D=this.valueOf(),C;u=t;do{C=H.slice(0,F).join("-");if(C in z){h(C)}if(C in B&&D in B[C]){return B[C][D]}}while(F-->1);if(!E&&o[j]){u=k;return w.call(D)}return D};if(typeof XMLHttpRequest===q&&typeof ActiveXObject!==q){var f=ActiveXObject;p=function(){try{return new f("Msxml2.XMLHTTP.6.0")}catch(C){}try{return new f("Msxml2.XMLHTTP.3.0")}catch(i){}try{return new f("Msxml2.XMLHTTP")}catch(D){}throw new Error("XMLHttpRequest not supported by this browser.")}}else{p=XMLHttpRequest}o[j]=o[j]||"";o[A]=m&&(m.language||m.userLanguage)||"";if(typeof document!==q){var y=document.getElementsByTagName("link"),v=y.length,g;while(v--){var d=y[v],c=(d.getAttribute("rel")||"")[e]().split(/\s+/);if(s.test(d.type)){if(x.call(c,"localizations")!==-1){n(d.getAttribute("href"))}else{if(x.call(c,"localization")!==-1){g={};g[(d.getAttribute("hreflang")||"")[e]()]=d.getAttribute("href");n(g)}}}}}}());String.toLocaleString({fr:{"%ajax.loading":"En cours","%ajax.done":"Termin\u00e9","%ajax.notfound_error":"La page demand\u00e9e n'existe pas","%ajax.temp_error":"Un probl\u00e8me temporaire est intervenue. Veuillez r\u00e9essayer plus tard","%ajax.fatal_error":"Une erreur est intervenue. Veuillez r\u00e9essayer plus tard","%preview.watermark":"Voir toute la collection &gt;"},en:{"%ajax.loading":"Loading","%ajax.done":"Done","%ajax.notfound_error":"The requested page does not exist","%ajax.temp_error":"A temporary error occured. Please try again later",
"%ajax.fatal_error":"An error occured. Please try again later","%preview.watermark":"Go to the collection &gt;"}});
(function(d,b,e){b.fn.external=function(){return this.each(function(){b(this).click(function(){d.open(this.href);return!1})})};b.fn.watermark=function(k,a){var d=b.extend({},b.fn.watermark.defaults,a),l=e!==k?function(a){return k}:function(a){return a.data("watermark")};return this.each(function(){var a=b(this);a.append(d.wrapperStart+l(a)+d.wrapperEnd)})};b.fn.watermark.defaults={wrapperStart:"<div class=watermark><span>",wrapperEnd:"</span></div>"}})(this,this.jQuery);
this.Chiffon=function(d,b,e,k,a,f){function l(a){this.context=a}l.prototype={handleCore:function(a,c,u){throw Error('You must override the "handleCore" method.');},handle:function(k,c,u){var x=d.top;x!==d&&(f!==e?x.location.replace(e.href):x.document.location.replace(b.location.href));a.ajaxSetup({timeout:3E3,async:!0,cache:!0});String.locale=this.context.locale;this.handleCore(k,c,u)}};return l}(this,this.document,this.location,this._,this.jQuery);
this.Chiffon.Presenters=function(d,b){var e={};e.Modal=function(){function b(a){this.view=a}b.prototype={loadContent:function(a,b){var k=this,e=b.href;d.ajax({type:"GET",dataType:"html",url:e,success:function(a){k.view.onContentLoaded({href:e,data:a})}})}};return b}();return e}(this.jQuery);
this.Chiffon.Views=function(d,b,e,k,a,f,l,w){var c={};c.Layout=function(){function u(){this.ajaxStatusView=new c.AjaxStatus({displayLoading:!1})}u.prototype={initialize:function(){this.ajaxStatusView.registerEventHandlers();a("A[rel=external]").external()}};return u}();c.DesignerLayout=function(){function a(){this.layoutView=new c.Layout}a.prototype={initialize:function(){this.layoutView.initialize();c.StickyInfo()}};return a}();c.ContactLogin=function(){function a(){this.layoutView=new c.Layout}
a.prototype={initialize:function(){this.layoutView.initialize()}};return a}();c.ContactNewsletter=function(){function a(){this.layoutView=new c.Layout}a.prototype={initialize:function(){this.layoutView.initialize()}};return a}();c.ContactRegister=function(){function a(){this.layoutView=new c.Layout}a.prototype={initialize:function(){this.layoutView.initialize()}};return a}();c.DesignerPattern=function(){function a(){this.layoutView=new c.DesignerLayout}a.prototype={initialize:function(){this.layoutView.initialize();
c.ViewNavigator({currentSel:e.hash})}};return a}();c.HomeIndex=function(){function b(){this.layoutView=new c.Layout}b.prototype={initialize:function(){this.layoutView.initialize();a(".vignette").watermark("%preview.watermark".toLocaleString())}};return b}();c.ViewNavigator=function(){function b(a){p.attr("href",l[a-1])}function d(a){s.attr("href",l[a+1])}function t(b){m.hide();a(l[b]).fadeIn();q.html(b)}function c(){p.click(function(a){a.preventDefault();a=--v;t(a);1===a?(p.hide(),e.show()):b(a);
f!==a&&(d(a),f-1===a&&(s.show(),r.hide()))});s.click(function(a){a.preventDefault();a=++v;t(a);1!==a&&(b(a),2===a&&(p.show(),e.hide()));f===a?(s.hide(),r.show()):d(a)})}function g(){var b,g;m=a(h.viewsSel);f=m.length;1>=f||(b=a(h.navSel),p=b.find(".prev"),e=b.find(".prev_noop"),s=b.find(".next"),r=b.find(".next_noop"),q=b.find(".pos"),g=h.currentSel,b=w===g?function(){l.push("#"+a(this).prop("id"))}:function(b){var m="#"+a(this).prop("id");g===m&&(v=b+1);l.push(m)},m.each(b))}var h,n={viewsSel:".pattern",
navSel:"#nav_views",currentSel:w},m,p,e,s,r,q,v=1,f,l=[w];return function(a){h=k.defaults(a||{},n);g();1>=f||(1<v&&(a=v,q.html(a),b(a),p.show(),e.hide(),f===a?(s.hide(),r.show()):d(a)),c())}}();c.StickyInfo=function(){function b(){var m,h=!1;m=p-23;a(d).scrollTop()>=m&&!h&&(h=!0,g.addClass("sticky top"));a(d).scroll(function(){a(d).scrollTop()>=m?h||(h=!0,g.addClass("sticky top")):h&&(h=!1,g.removeClass("sticky top"))})}function c(){a(d).resize(function(){var a=h.offset().left+l-m;g.css({left:a+"px"})})}
var t,e={infoSel:"#info",designerSel:"#designer"},g,h,n,m,p,f,l,r;return function(q){t=k.defaults(q||{},e);g=a(t.infoSel);h=a(t.designerSel);n=g.height();m=g.width();q=g.offset();p=q.top;f=q.left;l=h.width();r=a(d).height();if(r>=n+p)g.addClass("sticky"),g.css({top:p+"px",left:f+"px"});else if(r>=n)g.css("left",f+"px"),b();else return;c()}}();c.StickyHeader=function(){function b(){n||(n=!0,g.fadeIn("fast"))}function c(){a(d).scrollTop()>=h&&b();a(d).scroll(function(){a(d).scrollTop()>=h?b():n&&(n=
!1,g.hide())})}var e,f={headerSel:"HEADER",headerWrapper:"<div id=sticky_header></div>"},g,h,n=!1;return function(b){e=k.defaults(b||{},f);b=a(e.headerSel);g=a(e.headerWrapper);b.children().clone().appendTo(g);h=b.position().top+b.height();g.appendTo("BODY");c()}}();c.AjaxStatus=function(){function c(b){this.settings=a.extend({},e,b);f({},!1);this.isError=!1}var e={errorClass:"ajax_error",displayLoading:!0,onErrorFadingSpeed:5E3,loadingMessage:"%ajax.loading".toLocaleString(),notFoundErrorMessage:"%ajax.notfound_error".toLocaleString(),
tempErrorMessage:"%ajax.temp_error".toLocaleString(),fatalErrorMessage:"%ajax.fatal_error".toLocaleString()},d,f=function(){var g={statusElement:"<div id=ajax_status></div>"},h=!1;return function(c,m){if(h){if(m)throw new TypeError('You can not initialize "AjaxStatus" twice.');}else{var e=k.defaults(c||{},g);d=a(e.statusElement);a(b.body).append(d);h=!0}}}();c.AjaxStatus=function(a){f(a,!0)};c.prototype={registerEventHandlers:function(){var g=this;a(b).ajaxStart(function(a){g.onStart(a)}).ajaxError(function(a,
b){g.onError(a,b)}).ajaxStop(function(a){g.onStop(a)})},getErrorMessage:function(a){return 404===a?this.settings.notFoundErrorMessage:0===a?this.settings.tempErrorMessage:this.settings.fatalErrorMessage},onStart:function(a){d.removeClass(this.settings.errorClass);this.settings.displayLoading&&d.text(this.settings.loadingMessage).show()},onStop:function(a){this.isError?this.isError=!1:this.settings.displayLoading&&d.hide()},onError:function(a,b){var c=this.settings.onErrorFadingOutSpeed,m=this.getErrorMessage(b.status);
this.isError=!0;d.addClass(this.settings.errorClass).text(m).show();0<c&&d.fadeOut(c)}};return c}();c.Modal=function(){function c(a){this.settings=k.defaults(a||{},d);n({},!1);this.presenter=new l.Modal(this)}var d={linkSel:"A[rel~=modal]"},e,f,g="",h=!1,n=function(){var c={modalElement:"<div class=modal></div>",overlayElement:"<div class=overlay></div>"},d=!1;return function(g,k){if(d){if(k)throw new TypeError('You can not initialize "Modal" twice.');}else{var l=a.extend({},c,g);e=a(l.overlayElement);
f=a(l.modalElement);a(b.body).append(e).append(f);a(b).bind("keydown.modal",function(a){h&&27===a.keyCode&&(a.preventDefault(),f.hide(),e.fadeOut(),h=!1)});e.click(function(a){h&&(a.preventDefault(),f.hide(),e.fadeOut(),h=!1)});d=!0}}}();c.Modal=function(a){n(a,!0)};c.prototype={registerEventHandlers:function(){var b=this;a(this.settings.linkSel).click(function(a){b.linkClicked(this,a)})},linkClicked:function(a,b){b.preventDefault();var c=a.href;if(g===c)e.show(),f.show(),h=!0;else this.onLoadContent({href:c})},
loadContent:function(a,b){this.presenter.loadContent(a,b)},onLoadContent:function(a){this.loadContent(this,a)},onContentLoaded:function(a){f.html(a.data);e.show();f.show();h=!0;g=a.href}};return c}();return c}(this,this.document,this.location,this._,this.jQuery,this.Chiffon,this.Chiffon.Presenters);
this.Chiffon.Controllers=function(d,b,e){function k(a){this.context=a}function a(){k.apply(this,arguments)}function f(){k.apply(this,arguments)}function l(){k.apply(this,arguments)}a.prototype=d.extend({},k.prototype,{login:function(){(new b.ContactLogin).initialize()},newsletter:function(){(new b.ContactRegister).initialize()},register:function(){(new b.ContactNewsletter).initialize()}});f.prototype=d.extend({},k.prototype,{index:function(){(new b.DesignerLayout).initialize()},category:function(){(new b.DesignerLayout).initialize()},
pattern:function(){(new b.DesignerPattern).initialize()}});l.prototype=d.extend({},k.prototype,{about:function(){(new b.Layout).initialize()},contact:function(){(new b.Layout).initialize()},index:function(){(new b.HomeIndex).initialize()}});return{Contact:a,Designer:f,Home:l}}(this.jQuery,this.Chiffon.Views);
this.Chiffon.prototype.handleCore=function(d,b){return function(b,k,a){if(d.hasOwnProperty(b)){var f=d[b];b=f.prototype;k=k.toLowerCase();b.hasOwnProperty(k)&&(f=new f(this.context),b[k].apply(f,a))}}}(this.Chiffon.Controllers);
