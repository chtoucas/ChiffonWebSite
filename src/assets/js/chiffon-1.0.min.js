(function(){var c=self.navigator,b=String,g=Object.prototype.hasOwnProperty,l={},a={},h=/^\s*application\/(?:vnd\.oftn\.|x-)?l10n\+json\s*(?:$|;)/i,m,q=Array.prototype.indexOf||function(p){for(var a=this.length,k=0;k<a;k++)if(k in this&&this[k]===p)return k;return-1},e=function(a){var k=new m;k.open("GET",a,!1);k.send(null);return 200!==k.status?(setTimeout(function(){var k=Error("Unable to load localization data: "+a);k.name="Localization Error";throw k;},0),{}):JSON.parse(k.responseText)},k=b.toLocaleString=
function(p){if(0<arguments.length&&"number"!==typeof p)if("string"===typeof p)k(e(p));else if(!1===p)a={};else{var d,f,c;for(d in p)if(g.call(p,d)&&(f=p[d],d=d.toLowerCase(),d in a&&!1!==f||(a[d]={}),!1!==f)){if("string"===typeof f)if(0===b.locale.toLowerCase().indexOf(d))f=e(f);else{d in l||(l[d]=[]);l[d].push(f);continue}for(c in f)g.call(f,c)&&(a[d][c]=f[c])}}return Function.prototype.toLocaleString.apply(b,arguments)},t,z=b.prototype.toLocaleString=function(){var d=t,f=b[d?"defaultLocale":"locale"].toLowerCase().split("-"),
c=f.length,n=this.valueOf(),q;t=!1;do{q=f.slice(0,c).join("-");if(q in l){for(var r=q,v=l[r],g=0,h=v.length,y=void 0;g<h;g++)y={},y[r]=e(v[g]),k(y);delete l[r]}if(q in a&&n in a[q])return a[q][n]}while(1<c--);return!d&&b.defaultLocale?(t=!0,z.call(n)):n};if("undefined"===typeof XMLHttpRequest&&"undefined"!==typeof ActiveXObject){var v=ActiveXObject;m=function(){try{return new v("Msxml2.XMLHTTP.6.0")}catch(k){}try{return new v("Msxml2.XMLHTTP.3.0")}catch(d){}try{return new v("Msxml2.XMLHTTP")}catch(a){}throw Error("XMLHttpRequest not supported by this browser.");
}}else m=XMLHttpRequest;b.defaultLocale=b.defaultLocale||"";b.locale=c&&(c.language||c.userLanguage)||"";if("undefined"!==typeof document)for(var c=document.getElementsByTagName("link"),d=c.length,f;d--;){var n=c[d];f=(n.getAttribute("rel")||"").toLowerCase().split(/\s+/);h.test(n.type)&&(-1!==q.call(f,"localizations")?k(n.getAttribute("href")):-1!==q.call(f,"localization")&&(f={},f[(n.getAttribute("hreflang")||"").toLowerCase()]=n.getAttribute("href"),k(f)))}})();
String.toLocaleString({fr:{"%ajax.loading":"En cours","%ajax.done":"Termin\u00e9","%ajax.notfound_error":"La page demand\u00e9e n'existe pas","%ajax.temp_error":"Un probl\u00e8me temporaire est intervenue. Veuillez r\u00e9essayer plus tard","%ajax.fatal_error":"Une erreur est intervenue. Veuillez r\u00e9essayer plus tard","%preview.watermark":"Voir toute la collection &gt;"},en:{"%ajax.loading":"Loading","%ajax.done":"Done","%ajax.notfound_error":"The requested page does not exist","%ajax.temp_error":"A temporary error occured. Please try again later",
"%ajax.fatal_error":"An error occured. Please try again later","%preview.watermark":"Go to the collection &gt;"}});
(function(c,b,g){b.fn.external=function(){return this.each(function(){b(this).click(function(){c.open(this.href);return!1})})};b.fn.watermark=function(c,a){var h=b.extend({},b.fn.watermark.defaults,a),m=g!==c?function(a){return c}:function(a){return a.data("watermark")};return this.each(function(){var a=b(this);a.append(h.wrapperStart+m(a)+h.wrapperEnd)})};b.fn.watermark.defaults={wrapperStart:"<div class=watermark><span>",wrapperEnd:"</span></div>"}})(this,this.jQuery);
this.Chiffon=function(c,b,g,l,a,h){function m(a){this.context=a}m.prototype={handleCore:function(a,c,k){throw Error('You must override the "handleCore" method.');},handle:function(l,e,k){var t=c.top;t!==c&&(h!==g?t.location.replace(g.href):t.document.location.replace(b.location.href));a.ajaxSetup({timeout:3E3,async:!0,cache:!0});String.locale=this.context.locale;this.handleCore(l,e,k)}};return m}(this,this.document,this.location,this._,this.jQuery);
this.Chiffon.Presenters=function(c,b){var g={};g.Modal=function(){function b(a){this.view=a}b.prototype={loadContent:function(a,b){var l=this,g=b.href;c.ajax({type:"GET",dataType:"html",url:g,success:function(a){l.view.onContentLoaded({href:g,data:a})}})}};return b}();return g}(this.jQuery);
this.Chiffon.Views=function(c,b,g,l,a,h,m,q){var e={};e.Layout=function(){function k(){this.registerModalView=new e.Modal({linkSel:"A[rel~=register]"});this.ajaxStatusView=new e.AjaxStatus({displayLoading:!1})}k.prototype={initialize:function(){this.registerModalView.registerEventHandlers();this.ajaxStatusView.registerEventHandlers();a("A[rel=external]").external()}};return k}();e.DesignerLayout=function(){function a(){this.layoutView=new e.Layout}a.prototype={initialize:function(){this.layoutView.initialize();
e.StickyInfo()}};return a}();e.ContactLogin=function(){function a(){this.layoutView=new e.Layout}a.prototype={initialize:function(){this.layoutView.initialize()}};return a}();e.ContactNewsletter=function(){function a(){this.layoutView=new e.Layout}a.prototype={initialize:function(){this.layoutView.initialize()}};return a}();e.ContactRegister=function(){function a(){this.layoutView=new e.Layout}a.prototype={initialize:function(){this.layoutView.initialize()}};return a}();e.DesignerPattern=function(){function a(){this.layoutView=
new e.DesignerLayout}a.prototype={initialize:function(){this.layoutView.initialize();e.ViewNavigator({currentSel:g.hash})}};return a}();e.HomeIndex=function(){function k(){this.layoutView=new e.Layout}k.prototype={initialize:function(){this.layoutView.initialize();a(".vignette").watermark("%preview.watermark".toLocaleString())}};return k}();e.ViewNavigator=function(){function k(a){g.attr("href",x[a-1])}function c(a){m.attr("href",x[a+1])}function b(d){p.hide();a(x[d]).fadeIn();r.html(d)}function e(){g.click(function(a){a.preventDefault();
a=--w;b(a);1===a?(g.hide(),h.show()):k(a);u!==a&&(c(a),u-1===a&&(m.show(),s.hide()))});m.click(function(a){a.preventDefault();a=++w;b(a);1!==a&&(k(a),2===a&&(g.show(),h.hide()));u===a?(m.hide(),s.show()):c(a)})}function d(){var d,c;p=a(f.viewsSel);u=p.length;1>=u||(d=a(f.navSel),g=d.find(".prev"),h=d.find(".prev_noop"),m=d.find(".next"),s=d.find(".next_noop"),r=d.find(".pos"),c=f.currentSel,d=q===c?function(){x.push("#"+a(this).prop("id"))}:function(d){var f="#"+a(this).prop("id");c===f&&(w=d+1);
x.push(f)},p.each(d))}var f,n={viewsSel:".pattern",navSel:"#nav_views",currentSel:q},p,g,h,m,s,r,w=1,u,x=[q];return function(a){f=l.defaults(a||{},n);d();1>=u||(1<w&&(a=w,r.html(a),k(a),g.show(),h.hide(),u===a?(m.hide(),s.show()):c(a)),e())}}();e.StickyInfo=function(){function k(){var f,b=!1;f=h-23;a(c).scrollTop()>=f&&!b&&(b=!0,d.addClass("sticky top"));a(c).scroll(function(){a(c).scrollTop()>=f?b||(b=!0,d.addClass("sticky top")):b&&(b=!1,d.removeClass("sticky top"))})}function b(){a(c).resize(function(){var a=
f.offset().left+q-p;d.css({left:a+"px"})})}var g,e={infoSel:"#info",designerSel:"#designer"},d,f,n,p,h,m,q,s;return function(r){g=l.defaults(r||{},e);d=a(g.infoSel);f=a(g.designerSel);n=d.height();p=d.width();r=d.offset();h=r.top;m=r.left;q=f.width();s=a(c).height();if(s>=n+h)d.addClass("sticky"),d.css({top:h+"px",left:m+"px"});else if(s>=n)d.css("left",m+"px"),k();else return;b()}}();e.StickyHeader=function(){function b(){n||(n=!0,d.fadeIn("fast"))}function g(){a(c).scrollTop()>=f&&b();a(c).scroll(function(){a(c).scrollTop()>=
f?b():n&&(n=!1,d.hide())})}var e,h={headerSel:"HEADER",headerWrapper:"<div id=sticky_header></div>"},d,f,n=!1;return function(b){e=l.defaults(b||{},h);b=a(e.headerSel);d=a(e.headerWrapper);b.children().clone().appendTo(d);f=b.position().top+b.height();d.appendTo("BODY");g()}}();e.AjaxStatus=function(){function c(d){this.settings=a.extend({},g,d);h({},!1);this.isError=!1}var g={errorClass:"ajax_error",displayLoading:!0,onErrorFadingSpeed:5E3,loadingMessage:"%ajax.loading".toLocaleString(),notFoundErrorMessage:"%ajax.notfound_error".toLocaleString(),
tempErrorMessage:"%ajax.temp_error".toLocaleString(),fatalErrorMessage:"%ajax.fatal_error".toLocaleString()},e,h=function(){var d={statusElement:"<div id=ajax_status></div>"},f=!1;return function(c,g){if(f){if(g)throw new TypeError('You can not initialize "AjaxStatus" twice.');}else{var k=l.defaults(c||{},d);e=a(k.statusElement);a(b.body).append(e);f=!0}}}();c.AjaxStatus=function(a){h(a,!0)};c.prototype={registerEventHandlers:function(){var d=this;a(b).ajaxStart(function(a){d.onStart(a)}).ajaxError(function(a,
b){d.onError(a,b)}).ajaxStop(function(a){d.onStop(a)})},getErrorMessage:function(a){return 404===a?this.settings.notFoundErrorMessage:0===a?this.settings.tempErrorMessage:this.settings.fatalErrorMessage},onStart:function(a){e.removeClass(this.settings.errorClass);this.settings.displayLoading&&e.text(this.settings.loadingMessage).show()},onStop:function(a){this.isError?this.isError=!1:this.settings.displayLoading&&e.hide()},onError:function(a,b){var c=this.settings.onErrorFadingOutSpeed,g=this.getErrorMessage(b.status);
this.isError=!0;e.addClass(this.settings.errorClass).text(g).show();0<c&&e.fadeOut(c)}};return c}();e.Modal=function(){function c(a){this.settings=l.defaults(a||{},g);n({},!1);this.presenter=new m.Modal(this)}var g={linkSel:"A[rel~=modal]"},e,h,d="",f=!1,n=function(){var d={modalElement:"<div class=modal></div>",overlayElement:"<div class=overlay></div>"},c=!1;return function(g,k){if(c){if(k)throw new TypeError('You can not initialize "Modal" twice.');}else{var l=a.extend({},d,g);e=a(l.overlayElement);
h=a(l.modalElement);a(b.body).append(e).append(h);a(b).bind("keydown.modal",function(a){f&&27===a.keyCode&&(a.preventDefault(),h.hide(),e.fadeOut(),f=!1)});e.click(function(a){f&&(a.preventDefault(),h.hide(),e.fadeOut(),f=!1)});c=!0}}}();c.Modal=function(a){n(a,!0)};c.prototype={registerEventHandlers:function(){var b=this;a(this.settings.linkSel).click(function(a){b.linkClicked(this,a)})},linkClicked:function(a,b){b.preventDefault();var c=a.href;if(d===c)e.show(),h.show(),f=!0;else this.onLoadContent({href:c})},
loadContent:function(a,b){this.presenter.loadContent(a,b)},onLoadContent:function(a){this.loadContent(this,a)},onContentLoaded:function(a){h.html(a.data);e.show();h.show();f=!0;d=a.href}};return c}();return e}(this,this.document,this.location,this._,this.jQuery,this.Chiffon,this.Chiffon.Presenters);
this.Chiffon.Controllers=function(c,b,g){function l(a){this.context=a}function a(){l.apply(this,arguments)}function h(){l.apply(this,arguments)}function m(){l.apply(this,arguments)}a.prototype=c.extend({},l.prototype,{login:function(){(new b.ContactLogin).initialize()},newsletter:function(){(new b.ContactRegister).initialize()},register:function(){(new b.ContactNewsletter).initialize()}});h.prototype=c.extend({},l.prototype,{index:function(){(new b.DesignerLayout).initialize()},category:function(){(new b.DesignerLayout).initialize()},
pattern:function(){(new b.DesignerPattern).initialize()}});m.prototype=c.extend({},l.prototype,{about:function(){(new b.Layout).initialize()},contact:function(){(new b.Layout).initialize()},index:function(){(new b.HomeIndex).initialize()}});return{Contact:a,Designer:h,Home:m}}(this.jQuery,this.Chiffon.Views);
this.Chiffon.prototype.handleCore=function(c,b){return function(b,l,a){if(c.hasOwnProperty(b)){var h=c[b];b=h.prototype;l=l.toLowerCase();b.hasOwnProperty(l)&&(h=new h(this.context),b[l].apply(h,a))}}}(this.Chiffon.Controllers);
