@using Chiffon.Infrastructure
@using Narvalo.Web.Semantic

@{
 var ontology = (Ontology)ViewBag.Ontology;
 var language = (ChiffonLanguage)ViewBag.Language;
}

<!DOCTYPE html>
<html lang="@ontology.LanguageName" prefix="@Ontology.OpenGraphNamespace">
<head>
 <meta charset="utf-8" />
 <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
 <title>@ontology.Title</title>
 @OntologyHelpers.StandardMetadata(ontology)
 @OntologyHelpers.OpenGraphMetadata(ontology.OpenGraph)
 @OntologyHelpers.RelationshipLinks(ontology.Relationships)
 <meta name=viewport content="width=device-width, initial-scale=1" />
 @*<base href="/"/>*@
 @{Html.RenderAction(ActionName.Widget.CommonStyleSheet, ControllerName.Widget);}
 @{Html.RenderPartial(ViewName.Html5Shim);}
</head>
<body itemscope itemtype="@ontology.SchemaOrg.ItemType">
 <header>
  <h1>@{Html.RenderPartial(ViewName.LayoutTitle, language);}</h1>
  <nav class="clearfix nav_lang">
   @{Html.RenderAction(ActionName.Widget.LanguageMenu, ControllerName.Widget, new { language = language });}
  </nav>
  <nav class="nav_main @ViewBag.MainMenuClass">
   <ul class=li_center>
    <li><a href="@Url.RouteUrl(RouteName.Home.Index)" class=index>@VR.Layout_Nav_Home</a></li>
    <li class=sep>/</li>
    <li><a href="@Url.RouteUrl(RouteName.Home.About)" class=about>@VR.Layout_Nav_About</a></li>
    <li class=sep>/</li>
    <li><a href="@Url.RouteUrl(RouteName.Home.Contact)" class=contact>@VR.Layout_Nav_Contact</a></li>
    @*<li class=sep>/</li>
     <li><a href="@Url.RouteUrl(RouteName.Contact.Newsletter)" class=newsletter>@VR.Layout_Nav_Newsletter</a></li>*@
    <li class=account>
     @if (User.Identity.IsAuthenticated) {
      <form method=post action="/disconnecte"><input type=submit value="@VR.Layout_Nav_Logout"></form>
      @*<a href="#" id=nav_account>Mon compte</a>*@
     }
     else {
      @*<a href="@Url.RouteUrl(RouteName.Account.Register)">@VR.Layout_Nav_Register</a> @:/*@
      <a href="@Url.RouteUrl(RouteName.Account.Login)" rel="modal:open">@VR.Layout_Nav_Login</a>
     }
    </li>
   </ul>
  </nav>
  @RenderSection("SecondaryNav", false /* required */)
 </header>
 @RenderBody()
 <footer>
  @{Html.RenderPartial(ViewName.LayoutAuthorsRights, language);}
  @{Html.RenderPartial(ViewName.LayoutCopyright);}
 </footer>
 @{Html.RenderAction(ActionName.Widget.CommonJavaScript, ControllerName.Widget, new
 {
  actionName = ViewBag.ActionName,
  controllerName = ViewBag.ControllerName,
  languageName = ontology.LanguageName,
 });}
 @{Html.RenderAction(ActionName.Widget.GoogleAnalytics, ControllerName.Widget);}
</body>
</html>
