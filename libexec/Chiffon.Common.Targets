<?xml version="1.0" encoding="utf-8" ?>
<Project ToolsVersion="4.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <!-- Répertoires  -->

  <PropertyGroup>
    <!--<RootDir>$([System.IO.Path]::GetFullPath('$(MSBuildProjectDirectory)')\..)</RootDir>-->
    <RootDir>$(MSBuildThisFileDirectory)..</RootDir>
    <!-- Répertoires temporaires -->
    <BuildDir>$(RootDir)\_build</BuildDir>

    <!-- NB: D'après Microsoft.Common.targets, on doit utiliser OutDir plutôt qu'OutputPath -->
    <OutDir>$(BuildDir)\$(Configuration)\</OutDir>
    <PublishDir>$(BuildDir)\Publish</PublishDir>
    <PackageDir>$(BuildDir)\Packages</PackageDir>

    <EtcDir>$(RootDir)\etc</EtcDir>
    <PublishProfilesDir>$(EtcDir)\PublishProfiles</PublishProfilesDir>
    <SourceDir>$(RootDir)\src</SourceDir>
    
    <!-- WARNING: Ce répertoire n'est pas inclus dans l'entrepôt Git,
                  car il contient toutes les configurations privées. -->
    <TransformsDir>$(RootDir)\intern\transforms</TransformsDir>
  </PropertyGroup>

  <!-- Outils locaux (exe ou jar) -->

  <PropertyGroup>
    <_ToolsDir>$(RootDir)\tools</_ToolsDir>

    <SevenZipExe>$(_ToolsDir)\7-zip\7za.exe</SevenZipExe>
    <GoogleClosureJar>$(_ToolsDir)\closure\compiler.jar</GoogleClosureJar>
    <YuiCompressorJar>$(_ToolsDir)\yuicompressor\build\yuicompressor-2.4.7.jar</YuiCompressorJar>
    <!--<NodeExe></NodeExe>-->
  </PropertyGroup>

  <!-- Outils .NET -->

  <Target Name="Sdk40Tools">
    <GetFrameworkSdkPath>
      <Output TaskParameter="FrameworkSdkVersion40Path" PropertyName="_Sdk40Path" />
    </GetFrameworkSdkPath>

    <PropertyGroup>
      <!--<SDK40ToolsPath>C:\Program Files\Microsoft SDKs\Windows\v7.1\Bin\NETFX 4.0 Tools</SDK40ToolsPath>-->
      <_Sdk40ToolsPath>$(_Sdk40Path)Bin\NETFX 4.0 Tools</_Sdk40ToolsPath>
    </PropertyGroup>

    <PropertyGroup>
      <PEVerifyExe>"$(_Sdk40ToolsPath)\peverify.exe"</PEVerifyExe>
    </PropertyGroup>
  </Target>
</Project>