<Project ToolsVersion="4.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project=".\Narvalo.Build.Targets" />
  <Import Project=".\Chiffon.Tasks.Targets" />

  <PropertyGroup>
    <Configuration Condition="$(Configuration) == ''">Release</Configuration>
    <Platform Condition="$(Platform) == ''">AnyCPU</Platform>

    <!-- Aujourd'hui on a une seule valeur possible pour PlatformPackage: Production -->
    <PlatformPackage Condition="$(PlatformPackage) == ''">Production</PlatformPackage>
  </PropertyGroup>

  <!-- Répertoires communs -->
  <PropertyGroup>
    <BaseDir>$([System.IO.Path]::GetFullPath('$(MSBuildThisFileDirectory)..'))</BaseDir>
    
    <EtcDir>$(BaseDir)\etc</EtcDir>
    <LibExecDir>$(BaseDir)\libexec</LibExecDir>
    <SourceDir>$(BaseDir)\src</SourceDir>
  </PropertyGroup>

  <!-- Répertoires temporaires -->
  <PropertyGroup>
    <TmpDir>$(BaseDir)\_tmp</TmpDir>
    <BuildDir>$(BaseDir)\_build</BuildDir>
  </PropertyGroup>

  <!-- Répertoires privés -->
  <PropertyGroup>
    <ConfigDir>$(BaseDir)\intern\config\$(PlatformPackage)</ConfigDir>
    <ToolsDir>$(BaseDir)\intern\tools</ToolsDir>
  </PropertyGroup>

  <!-- Outils (exe ou jar) -->
  <PropertyGroup>
    <SevenZipExe>$(ToolsDir)\7-zip\7za.exe</SevenZipExe>
    <GoogleClosureJar>$(ToolsDir)\closure\compiler.jar</GoogleClosureJar>
    <YuiCompressorJar>$(ToolsDir)\yuicompressor\build\yuicompressor-2.4.7.jar</YuiCompressorJar>
    <!--<NodeExe></NodeExe>-->
  </PropertyGroup>
</Project>